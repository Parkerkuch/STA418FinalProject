---
title: "Final Project Assignment 1"
author: "Bradley Monarch"
date: "3/13/2023"
output:
  rmdformats::material:
    code_folding: hide
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, error = TRUE, eval = TRUE,
                      message = FALSE, warning = FALSE)
```

```{r}
library(data.table)
library(tidyverse)
library(knitr)
library(arrow)
library(bench)
library(ggbeeswarm)
library(haven)
library(stringr)
library(lubridate)
library(ggpubr)
library(skimr)
```


### Import Data

```{r}
gunData <- data.table::fread("gunViolenceFull.csv")
```

### Explore and display high-level characteristics of your data set, e.g., important variables and their types, different levels for factor variables, any patterns of missing values.

```{r}
summary(gunData)
glimpse(gunData)
skim(gunData)
```

Obtain at least two tables of group-level summary statistics for quantitative variables in your data set.


```{r}
#Summary statistics for number of people killed
gunData %>% pull(n_killed) %>% summary()

```

```{r}
#Summary statistics for number of people injured
gunData %>% pull(n_injured) %>% summary()

```

Obtain at least one frequency table showing the cross-section of two categorical variables in your data set.

```{r}

gunData2 <- gunData %>% mutate(fatal = n_killed >0)
gunData2 %>% count(state, fatal)


```

```{r}
gunData3 <- gunData2 %>% mutate(year = lubridate::year(date))
```

Create one ggplot visualizations for your data, including appropriate labels with units of measurement when applicable and a specified theme.

```{r}
#Drop 2013 and 2018 as there is incomlete data for these years.
gunData4 <- gunData3 %>% dplyr::filter(year != 2013 & year != 2018)
```



```{r}
gunData4 %>% ggplot(aes(x = year,
                        y = sum(fatal))) +
  geom_col() +
  labs(title = "Number of people killed in shootings by year",
       x = "Year",
       y = "Total people killed") + 
  theme_bw() +
  scale_y_continuous(labels = scales::comma)
```
















